{"ast":null,"code":"import _toConsumableArray from \"/Users/macbook/Documents/ForStudy/season04-cart/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport * as types from './../constants/ActionTypes';\nvar data = JSON.parse(localStorage.getItem('cart'));\nvar initialState = data ? data : [];\n\nvar message = function message() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n  var product = action.product,\n      quantity = action.quantity;\n  var index = -1;\n\n  switch (action.type) {\n    case types.ADD_TO_CART:\n      index = findProductInCart(state, product);\n\n      if (index !== -1) {\n        state[index].quantity += quantity;\n      } else {\n        state.push({\n          product: product,\n          quantity: quantity\n        });\n      }\n\n      localStorage.setItem('cart', JSON.stringify(state));\n      return _toConsumableArray(state);\n\n    default:\n      return _toConsumableArray(state);\n  }\n};\n\nexport default message;","map":{"version":3,"sources":["/Users/macbook/Documents/ForStudy/season04-cart/src/reducers/message.js"],"names":["types","data","JSON","parse","localStorage","getItem","initialState","message","state","action","product","quantity","index","type","ADD_TO_CART","findProductInCart","push","setItem","stringify"],"mappings":";AAAA,OAAO,KAAKA,KAAZ,MAAuB,4BAAvB;AAEA,IAAIC,IAAI,GAAGC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAX,CAAX;AAEA,IAAIC,YAAY,GAAGL,IAAI,GAAGA,IAAH,GAAU,EAAjC;;AAEA,IAAMM,OAAO,GAAG,SAAVA,OAAU,GAAkC;AAAA,MAAjCC,KAAiC,uEAAzBF,YAAyB;AAAA,MAAXG,MAAW;AAAA,MACxCC,OADwC,GAClBD,MADkB,CACxCC,OADwC;AAAA,MAC/BC,QAD+B,GAClBF,MADkB,CAC/BE,QAD+B;AAE9C,MAAIC,KAAK,GAAG,CAAC,CAAb;;AACA,UAAOH,MAAM,CAACI,IAAd;AACI,SAAKb,KAAK,CAACc,WAAX;AACIF,MAAAA,KAAK,GAAGG,iBAAiB,CAACP,KAAD,EAAQE,OAAR,CAAzB;;AACA,UAAGE,KAAK,KAAK,CAAC,CAAd,EAAgB;AACZJ,QAAAA,KAAK,CAACI,KAAD,CAAL,CAAaD,QAAb,IAAyBA,QAAzB;AACH,OAFD,MAEM;AACFH,QAAAA,KAAK,CAACQ,IAAN,CAAW;AACPN,UAAAA,OAAO,EAAPA,OADO;AAEPC,UAAAA,QAAQ,EAARA;AAFO,SAAX;AAIH;;AACDP,MAAAA,YAAY,CAACa,OAAb,CAAqB,MAArB,EAA6Bf,IAAI,CAACgB,SAAL,CAAeV,KAAf,CAA7B;AACA,gCAAWA,KAAX;;AACJ;AAAU,gCAAWA,KAAX;AAbd;AAeH,CAlBD;;AAoBA,eAAeD,OAAf","sourcesContent":["import * as types from './../constants/ActionTypes';\n\nvar data = JSON.parse(localStorage.getItem('cart'));\n\nvar initialState = data ? data : [];\n\nconst message = (state = initialState, action) => {\n    var { product, quantity } = action;\n    var index = -1;\n    switch(action.type){\n        case types.ADD_TO_CART :\n            index = findProductInCart(state, product);\n            if(index !== -1){\n                state[index].quantity += quantity;\n            }else {\n                state.push({\n                    product,\n                    quantity\n                })\n            }\n            localStorage.setItem('cart', JSON.stringify(state));\n            return [...state];\n        default : return [...state];\n    }\n}\n\nexport default message;"]},"metadata":{},"sourceType":"module"}